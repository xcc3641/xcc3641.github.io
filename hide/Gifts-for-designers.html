<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Gifts-for-designers（RxJava初入学习一） · IM XIE</title><meta name="description" content="Gifts-for-designers（RxJava初入学习一） - 谢三弟"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="short icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://imxie.cc/atom.xml" title="IM XIE"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/xcc3641" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/WebLab/" target="_self" class="nav-list-link">WEBLAB</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Gifts-for-designers（RxJava初入学习一）</h1><div class="post-info">2016年1月22日</div><div class="post-content"><p>一个为设计师设计的APP( ´_ゝ`)一个特别简单项目</p>
<p>主要用来练习Rx，当然这个适合初入Rx的看看。</p>
<p>自己参考的教程<a href="http://gank.io/post/560e15be2dca930e00da1083" target="_blank" rel="external">给 Android 开发者的 RxJava 详解</a></p>
<p>Github地址：<a href="https://github.com/xcc3641/Gifts-for-designers" target="_blank" rel="external">Gifts-for-designers</a></p>
<p>可以给个 star 鼓励下( ◜◡‾)っ✂╰⋃╯</p>
<a id="more"></a>
<h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><p>( ´_ゝ`) 好像这个项目没有很多代码需要解释，不过我还是整理一份</p>
<h4 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//      字体</div><div class="line">Typeface fontFace = Typeface.createFromAsset(getAssets(),</div><div class="line">&quot;font/Inconsolata.otf&quot;);</div><div class="line">Typeface tvFontFace = Typeface.createFromAsset(getAssets(), &quot;font/Lobster.ttf&quot;);</div><div class="line">editTextHEX.setTypeface(fontFace);</div><div class="line">editTextRGB.setTypeface(fontFace);</div><div class="line">textView.setTypeface(tvFontFace);</div></pre></td></tr></table></figure>
<h4 id="Rx监听输入"><a href="#Rx监听输入" class="headerlink" title="Rx监听输入"></a>Rx监听输入</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">RxTextView.textChanges(editTextHEX)</div><div class="line">                .subscribeOn(AndroidSchedulers.mainThread())</div><div class="line">                .debounce(300, TimeUnit.MICROSECONDS)</div><div class="line">                .map(new Func1&lt;CharSequence, String&gt;() &#123;</div><div class="line">                    @Override</div><div class="line">                    public String call(CharSequence charSequence) &#123;</div><div class="line">                        return charSequence.toString();</div><div class="line">                    &#125;</div><div class="line">                &#125;)</div><div class="line">                .observeOn(AndroidSchedulers.mainThread())</div><div class="line">                .doOnNext(new Action1&lt;String&gt;() &#123;</div><div class="line">                    @Override</div><div class="line">                    public void call(String s) &#123;</div><div class="line">                        if (s.length() == 5) &#123;</div><div class="line">                            setBackground(&quot;56abe4&quot;, 0);</div><div class="line">                            editTextRGB.setText(&quot;&quot;);</div><div class="line">                        &#125;</div><div class="line">                        if (!colors.isEmpty()) &#123;</div><div class="line">                            colors.clear();</div><div class="line">                            adapter.notifyDataSetChanged();</div><div class="line">                        &#125;</div><div class="line"></div><div class="line">                    &#125;</div><div class="line">                &#125;)</div><div class="line">                .filter(new Func1&lt;String, Boolean&gt;() &#123;</div><div class="line">                    @Override</div><div class="line">                    public Boolean call(String s) &#123;</div><div class="line">                        return s.length() &gt; 5;</div><div class="line">                    &#125;</div><div class="line">                &#125;)</div><div class="line">                .observeOn(AndroidSchedulers.mainThread())</div><div class="line">                .subscribe(new Action1&lt;String&gt;() &#123;</div><div class="line">                    @Override</div><div class="line">                    public void call(String s) &#123;</div><div class="line"></div><div class="line">                        setBackground(s, 0);</div><div class="line">//                        addColorAdapter(s);</div><div class="line">                        changeToRGB(s);</div><div class="line"></div><div class="line">                    &#125;</div><div class="line">                    &#125;)</div></pre></td></tr></table></figure>
<h4 id="改变背景颜色（有个过渡效果）"><a href="#改变背景颜色（有个过渡效果）" class="headerlink" title="改变背景颜色（有个过渡效果）"></a>改变背景颜色（有个过渡效果）</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">   /**</div><div class="line">    * @param color</div><div class="line">    * @param mark  0:HEX 1:RGB</div><div class="line">    */</div><div class="line">public void setBackground(String color, int mark) &#123;</div><div class="line">       int i = 0;</div><div class="line">       ValueAnimator paramInteger;</div><div class="line">       Drawable localDrawable = this.relativeLayout.getBackground();</div><div class="line">       if ((localDrawable instanceof ColorDrawable))</div><div class="line">           i = ((ColorDrawable) localDrawable).getColor();</div><div class="line"></div><div class="line">       if (mark == 0) &#123;</div><div class="line">           paramInteger = ValueAnimator.ofObject(new ArgbEvaluator(), i, Color</div><div class="line">                   .parseColor(&quot;#&quot; + color));</div><div class="line">       &#125; else &#123;</div><div class="line">           paramInteger = ValueAnimator.ofObject(new ArgbEvaluator(), i, mark);</div><div class="line">       &#125;</div><div class="line"></div><div class="line"></div><div class="line">       paramInteger.setDuration(500L);</div><div class="line">       paramInteger.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123;</div><div class="line">                                          public void onAnimationUpdate(ValueAnimator paramAnonymousValueAnimator) &#123;</div><div class="line">                                              relativeLayout.setBackgroundColor((Integer)</div><div class="line">                                                      paramAnonymousValueAnimator.getAnimatedValue());</div><div class="line">                                          &#125;</div><div class="line">                                      &#125;</div><div class="line"></div><div class="line">       );</div><div class="line">       paramInteger.start();</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<h4 id="将16进制转化成RGB"><a href="#将16进制转化成RGB" class="headerlink" title="将16进制转化成RGB"></a>将16进制转化成RGB</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">private void changeToRGB(String s) &#123;</div><div class="line">    int red = Integer.parseInt(String.valueOf(s.charAt(0)) + s.charAt(1), 16);</div><div class="line">    int green = Integer.parseInt(String.valueOf(s.charAt(2)) + s.charAt(3), 16);</div><div class="line">    int blue = Integer.parseInt(String.valueOf(s.charAt(4)) + s.charAt(5), 16);</div><div class="line"></div><div class="line">    Log.d(TAG, red + &quot; &quot; + green + &quot; &quot; + blue);</div><div class="line">    editTextRGB.setText(&quot;(&quot; + red + &quot;,&quot; + green + &quot;,&quot; + blue + &quot;)&quot;);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Todo-amp-Issues"><a href="#Todo-amp-Issues" class="headerlink" title="Todo&amp;Issues"></a>Todo&amp;Issues</h1><ul>
<li>[x] 搭配色算法推荐</li>
<li>[ ] 搭配色展示（RecyclerView）</li>
<li>[ ] 目前只做了16进制颜色，RGB有些逻辑问题</li>
<li>[ ] 删除过快会有卡顿（不知道如何解决）</li>
<li>[ ] 颜色保存列表</li>
</ul>
<h1 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h1><p><img src="http://xcc3641.qiniudn.com/app-pixlr.jpg" alt=""></p></div></article></div></section><footer><div class="paginator"></div><div data-thread-key="hide/Gifts-for-designers.html" data-title="Gifts-for-designers（RxJava初入学习一）" data-url="http://imxie.cc/hide/Gifts-for-designers.html" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"imxie"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://www.imxie.cc/js/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2014 - 2019 做一件值得的事.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-80145821-1",'auto');ga('send','pageview');</script></body></html>